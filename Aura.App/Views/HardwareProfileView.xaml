<Page
    x:Class="Aura.App.Views.HardwareProfileView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:Aura.App.Views"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">

    <ScrollViewer>
        <StackPanel Padding="24" MaxWidth="900" Spacing="24">
            
            <!-- Header -->
            <StackPanel Spacing="8" Margin="0,0,0,12">
                <TextBlock 
                    Text="Hardware Profile" 
                    Style="{ThemeResource TitleTextBlockStyle}"/>
                <TextBlock 
                    Text="System capabilities and optimization settings"
                    Foreground="{ThemeResource SystemControlForegroundBaseMediumBrush}"/>
            </StackPanel>
            
            <!-- System Overview -->
            <Expander Header="System Overview" IsExpanded="True">
                <StackPanel Spacing="16" Padding="12">
                    
                    <!-- CPU -->
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="200"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        
                        <TextBlock Grid.Row="0" Grid.Column="0" Text="CPU" FontWeight="SemiBold"/>
                        <TextBlock Grid.Row="0" Grid.Column="1" Text="16 logical cores (8 physical)"/>
                        
                        <TextBlock Grid.Row="1" Grid.Column="0" Text="Model" Foreground="{ThemeResource SystemControlForegroundBaseMediumBrush}"/>
                        <TextBlock Grid.Row="1" Grid.Column="1" Text="Intel Core i7-10700K" Foreground="{ThemeResource SystemControlForegroundBaseMediumBrush}"/>
                    </Grid>
                    
                    <!-- RAM -->
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="200"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        
                        <TextBlock Grid.Column="0" Text="RAM" FontWeight="SemiBold"/>
                        <TextBlock Grid.Column="1" Text="32 GB"/>
                    </Grid>
                    
                    <!-- GPU -->
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="200"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        
                        <TextBlock Grid.Row="0" Grid.Column="0" Text="GPU" FontWeight="SemiBold"/>
                        <TextBlock Grid.Row="0" Grid.Column="1" Text="NVIDIA RTX 3080"/>
                        
                        <TextBlock Grid.Row="1" Grid.Column="0" Text="VRAM" Foreground="{ThemeResource SystemControlForegroundBaseMediumBrush}"/>
                        <TextBlock Grid.Row="1" Grid.Column="1" Text="10 GB" Foreground="{ThemeResource SystemControlForegroundBaseMediumBrush}"/>
                        
                        <TextBlock Grid.Row="2" Grid.Column="0" Text="Series" Foreground="{ThemeResource SystemControlForegroundBaseMediumBrush}"/>
                        <TextBlock Grid.Row="2" Grid.Column="1" Text="30-series (Ampere)" Foreground="{ThemeResource SystemControlForegroundBaseMediumBrush}"/>
                        
                        <TextBlock Grid.Row="3" Grid.Column="0" Text="Driver" Foreground="{ThemeResource SystemControlForegroundBaseMediumBrush}"/>
                        <TextBlock Grid.Row="3" Grid.Column="1" Text="545.84 (up to date)" Foreground="{ThemeResource SystemControlForegroundBaseMediumBrush}"/>
                    </Grid>
                    
                    <!-- Tier -->
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="200"/>
                            <ColumnDefinition Width="*"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        
                        <TextBlock Grid.Row="0" Grid.Column="0" Text="Hardware Tier" FontWeight="SemiBold"/>
                        <TextBlock Grid.Row="0" Grid.Column="1" Text="B (8-12 GB VRAM)" Foreground="{StaticResource BrandPrimaryBrush}"/>
                        
                        <TextBlock Grid.Row="1" Grid.Column="0" Text="Capabilities" Foreground="{ThemeResource SystemControlForegroundBaseMediumBrush}"/>
                        <TextBlock Grid.Row="1" Grid.Column="1" Text="SDXL reduced, 1080/1440p, HEVC or H.264, NVENC encoding" Foreground="{ThemeResource SystemControlForegroundBaseMediumBrush}" TextWrapping="Wrap"/>
                    </Grid>
                    
                    <Button Content="Run Auto-Detection" Style="{ThemeResource AccentButtonStyle}"/>
                </StackPanel>
            </Expander>
            
            <!-- Hardware Probes -->
            <Expander Header="Hardware Probes" IsExpanded="False">
                <StackPanel Spacing="12" Padding="12">
                    <TextBlock 
                        Text="Run probes to verify hardware capabilities"
                        TextWrapping="Wrap"
                        Foreground="{ThemeResource SystemControlForegroundBaseMediumBrush}"/>
                    
                    <Grid>
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto"/>
                        </Grid.RowDefinitions>
                        
                        <!-- Header -->
                        <TextBlock Grid.Row="0" Grid.Column="0" Text="Probe" FontWeight="SemiBold"/>
                        <TextBlock Grid.Row="0" Grid.Column="1" Text="Status" FontWeight="SemiBold" Margin="12,0"/>
                        
                        <!-- FFmpeg -->
                        <TextBlock Grid.Row="1" Grid.Column="0" Text="FFmpeg"/>
                        <FontIcon Grid.Row="1" Grid.Column="1" Glyph="&#xE73E;" Foreground="Green" Margin="12,0"/>
                        <Button Grid.Row="1" Grid.Column="2" Content="Run"/>
                        
                        <!-- TTS -->
                        <TextBlock Grid.Row="2" Grid.Column="0" Text="Windows TTS"/>
                        <FontIcon Grid.Row="2" Grid.Column="1" Glyph="&#xE73E;" Foreground="Green" Margin="12,0"/>
                        <Button Grid.Row="2" Grid.Column="2" Content="Run"/>
                        
                        <!-- NVENC -->
                        <TextBlock Grid.Row="3" Grid.Column="0" Text="NVENC Encoder"/>
                        <FontIcon Grid.Row="3" Grid.Column="1" Glyph="&#xE73E;" Foreground="Green" Margin="12,0"/>
                        <Button Grid.Row="3" Grid.Column="2" Content="Run"/>
                        
                        <!-- SD -->
                        <TextBlock Grid.Row="4" Grid.Column="0" Text="Stable Diffusion (NVIDIA)"/>
                        <FontIcon Grid.Row="4" Grid.Column="1" Glyph="&#xE711;" Foreground="Orange" Margin="12,0"/>
                        <Button Grid.Row="4" Grid.Column="2" Content="Run"/>
                        
                        <!-- Disk -->
                        <TextBlock Grid.Row="5" Grid.Column="0" Text="Disk Space"/>
                        <FontIcon Grid.Row="5" Grid.Column="1" Glyph="&#xE73E;" Foreground="Green" Margin="12,0"/>
                        <Button Grid.Row="5" Grid.Column="2" Content="Run"/>
                    </Grid>
                    
                    <Button Content="Run All Probes" Margin="0,12,0,0"/>
                </StackPanel>
            </Expander>
            
            <!-- Manual Overrides -->
            <Expander Header="Manual Overrides" IsExpanded="False">
                <StackPanel Spacing="12" Padding="12">
                    <InfoBar
                        Title="Advanced Users Only"
                        Message="Override auto-detected values. Incorrect settings may cause crashes or poor performance."
                        IsOpen="True"
                        Severity="Warning"
                        IsClosable="False"/>
                    
                    <NumberBox 
                        Header="CPU Cores (2-64)"
                        Value="16"
                        Minimum="2"
                        Maximum="64"
                        SpinButtonPlacementMode="Inline"
                        Width="200"/>
                    
                    <NumberBox 
                        Header="RAM (GB, 8-256)"
                        Value="32"
                        Minimum="8"
                        Maximum="256"
                        SpinButtonPlacementMode="Inline"
                        Width="200"/>
                    
                    <ComboBox 
                        Header="GPU Preset"
                        Width="400"
                        HorizontalAlignment="Left"
                        SelectedIndex="3">
                        <ComboBoxItem Content="NVIDIA RTX 4090 (24 GB)"/>
                        <ComboBoxItem Content="NVIDIA RTX 4080 (16 GB)"/>
                        <ComboBoxItem Content="NVIDIA RTX 3090 (24 GB)"/>
                        <ComboBoxItem Content="NVIDIA RTX 3080 (10 GB)"/>
                        <ComboBoxItem Content="NVIDIA RTX 3070 (8 GB)"/>
                        <ComboBoxItem Content="AMD RX 7900 XT (20 GB)"/>
                        <ComboBoxItem Content="Intel Arc A770 (16 GB)"/>
                    </ComboBox>
                    
                    <CheckBox Content="Force enable NVENC" IsChecked="True"/>
                    <CheckBox Content="Force enable Stable Diffusion (NVIDIA only)" IsChecked="False" IsEnabled="False">
                        <ToolTipService.ToolTip>
                            <ToolTip Content="Requires NVIDIA GPU with 6+ GB VRAM"/>
                        </ToolTipService.ToolTip>
                    </CheckBox>
                    
                    <CheckBox Content="Offline mode (force local assets only)" IsChecked="False"/>
                    
                    <Button Content="Save Overrides"/>
                </StackPanel>
            </Expander>
            
            <!-- Download Center -->
            <Expander Header="Download Center" IsExpanded="False">
                <StackPanel Spacing="12" Padding="12">
                    <TextBlock 
                        Text="Manage optional dependencies and content packs"
                        TextWrapping="Wrap"
                        Foreground="{ThemeResource SystemControlForegroundBaseMediumBrush}"/>
                    
                    <ListView>
                        <ListViewItem>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                
                                <StackPanel Grid.Column="0" Spacing="4">
                                    <TextBlock Text="FFmpeg" FontWeight="SemiBold"/>
                                    <TextBlock Text="Required • 150 MB • Installed" FontSize="12" Foreground="{ThemeResource SystemControlForegroundBaseMediumBrush}"/>
                                </StackPanel>
                                
                                <FontIcon Grid.Column="1" Glyph="&#xE73E;" Foreground="Green" Margin="12,0"/>
                                <Button Grid.Column="2" Content="Verify" Margin="12,0,0,0"/>
                            </Grid>
                        </ListViewItem>
                        
                        <ListViewItem>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                
                                <StackPanel Grid.Column="0" Spacing="4">
                                    <TextBlock Text="Ollama + llama3.1:8b" FontWeight="SemiBold"/>
                                    <TextBlock Text="Optional • 5.2 GB • Not installed" FontSize="12" Foreground="{ThemeResource SystemControlForegroundBaseMediumBrush}"/>
                                </StackPanel>
                                
                                <FontIcon Grid.Column="1" Glyph="&#xE711;" Foreground="Gray" Margin="12,0"/>
                                <Button Grid.Column="2" Content="Install" Margin="12,0,0,0"/>
                            </Grid>
                        </ListViewItem>
                        
                        <ListViewItem>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                
                                <StackPanel Grid.Column="0" Spacing="4">
                                    <TextBlock Text="Stable Diffusion WebUI + SDXL" FontWeight="SemiBold"/>
                                    <TextBlock Text="NVIDIA only • 8 GB • Not installed" FontSize="12" Foreground="{ThemeResource SystemControlForegroundBaseMediumBrush}"/>
                                </StackPanel>
                                
                                <FontIcon Grid.Column="1" Glyph="&#xE711;" Foreground="Gray" Margin="12,0"/>
                                <Button Grid.Column="2" Content="Install" IsEnabled="True" Margin="12,0,0,0"/>
                            </Grid>
                        </ListViewItem>
                        
                        <ListViewItem>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                
                                <StackPanel Grid.Column="0" Spacing="4">
                                    <TextBlock Text="CC0 B-roll Pack" FontWeight="SemiBold"/>
                                    <TextBlock Text="Optional • 2.1 GB • Not installed" FontSize="12" Foreground="{ThemeResource SystemControlForegroundBaseMediumBrush}"/>
                                </StackPanel>
                                
                                <FontIcon Grid.Column="1" Glyph="&#xE711;" Foreground="Gray" Margin="12,0"/>
                                <Button Grid.Column="2" Content="Install" Margin="12,0,0,0"/>
                            </Grid>
                        </ListViewItem>
                    </ListView>
                </StackPanel>
            </Expander>
            
        </StackPanel>
    </ScrollViewer>
</Page>
