<Page
    x:Class="Aura.App.Views.SettingsView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:local="using:Aura.App.Views"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">

    <ScrollViewer>
        <StackPanel Padding="32" MaxWidth="900" Spacing="20">
            
            <!-- Header -->
            <StackPanel Spacing="8" Margin="0,0,0,16">
                <TextBlock 
                    Text="Settings" 
                    Style="{ThemeResource TitleTextBlockStyle}"/>
                <TextBlock 
                    Text="Configure providers, API keys, and branding options"
                    Style="{ThemeResource BodyTextBlockStyle}"
                    Foreground="{ThemeResource SystemControlForegroundBaseMediumBrush}"/>
            </StackPanel>
            
            <!-- Provider Profile -->
            <Expander Header="Provider Profile" IsExpanded="True">
                <StackPanel Spacing="16" Padding="16">
                    <ComboBox 
                        Header="Active Profile"
                        HorizontalAlignment="Stretch"
                        MaxWidth="500"
                        SelectedIndex="1"
                        ToolTipService.ToolTip="Choose how to balance free and paid AI services">
                        <ComboBoxItem Content="Free-Only (No API keys required)" Tag="free"/>
                        <ComboBoxItem Content="Balanced Mix (Prefer Pro, fallback to Free)" Tag="balanced"/>
                        <ComboBoxItem Content="Pro-Max (Requires all Pro API keys)" Tag="pro"/>
                    </ComboBox>
                    
                    <TextBlock 
                        Text="Controls which providers are used at each stage: Script generation, TTS, Visuals, and Upload"
                        TextWrapping="Wrap"
                        Style="{ThemeResource CaptionTextBlockStyle}"
                        Foreground="{ThemeResource SystemControlForegroundBaseMediumBrush}"/>
                    
                    <StackPanel Orientation="Horizontal" Spacing="12" Margin="0,8,0,0">
                        <Button 
                            Content="Save Profile"
                            Style="{ThemeResource AccentButtonStyle}"
                            ToolTipService.ToolTip="Save current configuration"/>
                        <Button 
                            Content="Import Profile"
                            ToolTipService.ToolTip="Load profile from JSON file"/>
                        <Button 
                            Content="Export Profile"
                            ToolTipService.ToolTip="Export profile as JSON file"/>
                    </StackPanel>
                </StackPanel>
            </Expander>
            
            <!-- API Keys -->
            <Expander Header="API Keys (DPAPI-encrypted)" IsExpanded="False">
                <StackPanel Spacing="20" Padding="16">
                    
                    <!-- Info -->
                    <InfoBar
                        Message="API keys are encrypted using Windows DPAPI and stored securely in your local app data."
                        IsOpen="True"
                        Severity="Informational"
                        IsClosable="True"/>
                    
                    <!-- LLM Providers -->
                    <StackPanel Spacing="12">
                        <TextBlock 
                            Text="LLM Providers (Script Generation)" 
                            Style="{ThemeResource SubtitleTextBlockStyle}"
                            FontWeight="SemiBold"/>
                        
                        <PasswordBox 
                            Header="OpenAI API Key"
                            PlaceholderText="sk-..."
                            HorizontalAlignment="Stretch"
                            MaxWidth="500"
                            ToolTipService.ToolTip="Get from platform.openai.com"/>
                        
                        <PasswordBox 
                            Header="Azure OpenAI API Key"
                            PlaceholderText="Your Azure key..."
                            HorizontalAlignment="Stretch"
                            MaxWidth="500"
                            ToolTipService.ToolTip="Enterprise OpenAI through Azure"/>
                        
                        <PasswordBox 
                            Header="Google Gemini API Key"
                            PlaceholderText="Your Gemini key..."
                            HorizontalAlignment="Stretch"
                            MaxWidth="500"
                            ToolTipService.ToolTip="Get from makersuite.google.com"/>
                    </StackPanel>
                    
                    <!-- TTS Providers -->
                    <StackPanel Spacing="12">
                        <TextBlock 
                            Text="TTS Providers (Voice Narration)" 
                            Style="{ThemeResource SubtitleTextBlockStyle}"
                            FontWeight="SemiBold"/>
                        
                        <PasswordBox 
                            Header="ElevenLabs API Key"
                            PlaceholderText="Your ElevenLabs key..."
                            HorizontalAlignment="Stretch"
                            MaxWidth="500"
                            ToolTipService.ToolTip="Premium realistic voices from elevenlabs.io"/>
                        
                        <PasswordBox 
                            Header="PlayHT API Key"
                            PlaceholderText="Your PlayHT key..."
                            HorizontalAlignment="Stretch"
                            MaxWidth="500"
                            ToolTipService.ToolTip="Alternative TTS provider from play.ht"/>
                    </StackPanel>
                    
                    <!-- Stock/Visual Providers -->
                    <StackPanel Spacing="12">
                        <TextBlock 
                            Text="Stock Providers (Images & Video)" 
                            Style="{ThemeResource SubtitleTextBlockStyle}"
                            FontWeight="SemiBold"/>
                        <TextBlock 
                            Text="Optional: Enhance visuals with stock content"
                            Style="{ThemeResource CaptionTextBlockStyle}"
                            Foreground="{ThemeResource SystemControlForegroundBaseMediumBrush}"/>
                        
                        <PasswordBox 
                            Header="Pixabay API Key"
                            PlaceholderText="Optional"
                            HorizontalAlignment="Stretch"
                            MaxWidth="500"
                            ToolTipService.ToolTip="Free stock photos from pixabay.com"/>
                        
                        <PasswordBox 
                            Header="Pexels API Key"
                            PlaceholderText="Optional"
                            HorizontalAlignment="Stretch"
                            MaxWidth="500"
                            ToolTipService.ToolTip="Free stock photos and videos from pexels.com"/>
                        
                        <PasswordBox 
                            Header="Unsplash API Key"
                            PlaceholderText="Optional"
                            HorizontalAlignment="Stretch"
                            MaxWidth="500"
                            ToolTipService.ToolTip="High-quality stock photos from unsplash.com"/>
                    </StackPanel>
                    
                    <Button 
                        Content="Save API Keys" 
                        Style="{ThemeResource AccentButtonStyle}"
                        Padding="24,8"
                        ToolTipService.ToolTip="Encrypt and save all API keys"/>
                </StackPanel>
            </Expander>
            
            <!-- Brand Kit -->
            <Expander Header="Brand Kit" IsExpanded="False">
                <StackPanel Spacing="12" Padding="12">
                    <ColorPicker 
                        Header="Primary Color"
                        Color="#6750A4"
                        ColorSpectrumShape="Ring"
                        IsAlphaEnabled="False"/>
                    
                    <ColorPicker 
                        Header="Secondary Color"
                        Color="#03DAC6"
                        ColorSpectrumShape="Ring"
                        IsAlphaEnabled="False"/>
                    
                    <ComboBox 
                        Header="Font"
                        Width="300"
                        HorizontalAlignment="Left"
                        SelectedIndex="0">
                        <x:String>Segoe UI</x:String>
                        <x:String>Arial</x:String>
                        <x:String>Helvetica</x:String>
                        <x:String>Open Sans</x:String>
                    </ComboBox>
                    
                    <StackPanel Spacing="8">
                        <TextBlock Text="Watermark/Logo"/>
                        <Button Content="Upload Watermark"/>
                    </StackPanel>
                    
                    <Button Content="Save Brand Kit"/>
                </StackPanel>
            </Expander>
            
            <!-- Paths and Locations -->
            <Expander Header="Paths and Locations" IsExpanded="False">
                <StackPanel Spacing="12" Padding="12">
                    <TextBox 
                        Header="Downloads Folder"
                        Text="C:\Aura\Downloads"
                        IsReadOnly="True"/>
                    
                    <TextBox 
                        Header="Cache Folder"
                        Text="C:\Aura\Cache"
                        IsReadOnly="True"/>
                    
                    <TextBox 
                        Header="Projects Folder"
                        Text="C:\Aura\Projects"
                        IsReadOnly="True"/>
                    
                    <StackPanel Orientation="Horizontal" Spacing="12">
                        <Button Content="Open Downloads Folder"/>
                        <Button Content="Clear Cache"/>
                    </StackPanel>
                </StackPanel>
            </Expander>
            
            <!-- Appearance -->
            <Expander Header="Appearance" IsExpanded="False">
                <StackPanel Spacing="12" Padding="12">
                    <ComboBox 
                        Header="Theme"
                        Width="300"
                        HorizontalAlignment="Left"
                        SelectedIndex="0">
                        <ComboBoxItem Content="System default"/>
                        <ComboBoxItem Content="Light"/>
                        <ComboBoxItem Content="Dark"/>
                        <ComboBoxItem Content="High contrast"/>
                    </ComboBox>
                    
                    <CheckBox Content="Use Mica background effect" IsChecked="True"/>
                    <CheckBox Content="Show status bar" IsChecked="True"/>
                </StackPanel>
            </Expander>
            
            <!-- Advanced -->
            <Expander Header="Advanced" IsExpanded="False">
                <StackPanel Spacing="12" Padding="12">
                    <CheckBox Content="Offline mode (block network fetch)" IsChecked="False"/>
                    <CheckBox Content="Enable telemetry" IsChecked="False"/>
                    <CheckBox Content="Show advanced options by default" IsChecked="False"/>
                    
                    <HyperlinkButton Content="View Logs"/>
                    <HyperlinkButton Content="Run Hardware Probes"/>
                </StackPanel>
            </Expander>
            
        </StackPanel>
    </ScrollViewer>
</Page>
