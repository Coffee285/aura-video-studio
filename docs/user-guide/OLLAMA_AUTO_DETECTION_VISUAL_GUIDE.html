<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Ollama Auto-Detection - Visual Guide | Aura Video Studio </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Ollama Auto-Detection - Visual Guide | Aura Video Studio ">
      
      
      <link rel="icon" href="../../favicon.ico">
      <link rel="stylesheet" href="../../public/docfx.min.css">
      <link rel="stylesheet" href="../../public/main.css">
      <meta name="docfx:navrel" content="../../toc.html">
      <meta name="docfx:tocrel" content="../../toc.html">
      
      <meta name="docfx:rel" content="../../">
      
      
      <meta name="docfx:docurl" content="https://github.com/Coffee285/aura-video-studio/blob/main/docs/user-guide/OLLAMA_AUTO_DETECTION_VISUAL_GUIDE.md/#L1">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../../index.html">
            <img id="logo" class="svg" src="../../logo.svg" alt="Aura Video Studio">
            Aura Video Studio
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">

      <div class="content">
        <div class="actionbar">

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="">
<h1 id="ollama-auto-detection---visual-guide">Ollama Auto-Detection - Visual Guide</h1>

<h2 id="ui-components-overview">UI Components Overview</h2>
<h3 id="ollama-card-location">Ollama Card Location</h3>
<p>The Ollama card is displayed on the <strong>Settings â†’ Downloads â†’ Engines</strong> tab, positioned between the FFmpeg card and the list of other engines.</p>
<pre><code>Settings Page
â””â”€â”€ Downloads Tab
    â””â”€â”€ Engines Tab
        â”œâ”€â”€ FFmpeg Card (existing)
        â”œâ”€â”€ Ollama Card (NEW - auto-detects)
        â””â”€â”€ Other Engines (Stable Diffusion, etc.)
</code></pre>
<h3 id="ollama-card-structure">Ollama Card Structure</h3>
<pre><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ¯ Ollama (Local AI) [Optional]        [Detected âœ“] [Auto-Detectâ†»] â”‚
â”‚  Run AI models locally for script generation. Privacy-focused    â”‚
â”‚  alternative to cloud APIs.                                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â„¹ï¸  If Ollama is running locally (port 11434), detection is     â”‚
â”‚     automatic.                                                   â”‚
â”‚                                                                   â”‚
â”‚  âœ… Ollama is running and available at http://localhost:11434    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<h2 id="status-states">Status States</h2>
<h3 id="1-detected-ollama-running">1. Detected (Ollama Running)</h3>
<pre><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âœ“ Ollama (Local AI) [Optional]        [Detected âœ“] [Auto-Detectâ†»] â”‚
â”‚                                                                   â”‚
â”‚  âœ… Ollama is running and available at http://localhost:11434    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<ul>
<li><strong>Icon</strong>: Green checkmark (âœ“)</li>
<li><strong>Status Badge</strong>: Green &quot;Detected&quot; badge with checkmark icon</li>
<li><strong>Message</strong>: Green success box with confirmation text</li>
<li><strong>Button State</strong>: Enabled, can re-check if needed</li>
</ul>
<h3 id="2-not-found-ollama-not-running">2. Not Found (Ollama Not Running)</h3>
<pre><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âš ï¸ Ollama (Local AI) [Optional]        [Not Found] [Auto-Detectâ†»] â”‚
â”‚                                                                   â”‚
â”‚  Ollama is not currently running. It's optional and can be       â”‚
â”‚  configured later in Settings if you want to use local AI models.â”‚
â”‚  [Learn More About Ollama â†’]                                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<ul>
<li><strong>Icon</strong>: Gray warning icon (âš ï¸)</li>
<li><strong>Status Badge</strong>: Subtle &quot;Not Found&quot; badge</li>
<li><strong>Message</strong>: Gray info box with explanation and link to Ollama website</li>
<li><strong>Button State</strong>: Enabled, can retry detection</li>
</ul>
<h3 id="3-checking-detection-in-progress">3. Checking (Detection in Progress)</h3>
<pre><code>â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  â³ Ollama (Local AI) [Optional]        [Checking...âŸ³] [Auto-Detectâ†»] â”‚
â”‚                                                                   â”‚
â”‚  â„¹ï¸  If Ollama is running locally (port 11434), detection is     â”‚
â”‚     automatic.                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
</code></pre>
<ul>
<li><strong>Icon</strong>: Spinner animation (â³)</li>
<li><strong>Status Badge</strong>: Neutral &quot;Checking...&quot; badge with spinner</li>
<li><strong>Message</strong>: Info box with helper text</li>
<li><strong>Button State</strong>: Disabled during check</li>
</ul>
<h2 id="component-hierarchy">Component Hierarchy</h2>
<pre><code class="lang-typescript">&lt;OllamaCard&gt;
  &lt;CardHeader&gt;
    &lt;div className=&quot;header&quot;&gt;
      &lt;div className=&quot;title&quot;&gt;
        {getStatusIcon()}              // âœ“, âš ï¸, or â³
        &lt;Text&gt;Ollama (Local AI)&lt;/Text&gt;
        &lt;Badge&gt;Optional&lt;/Badge&gt;
      &lt;/div&gt;
      &lt;div className=&quot;actions&quot;&gt;
        {getStatusBadge()}             // Detected, Not Found, or Checking...
        &lt;Button icon={ArrowSync}&gt;Auto-Detect&lt;/Button&gt;
      &lt;/div&gt;
    &lt;/div&gt;
    &lt;Text className=&quot;helperText&quot;&gt;
      Run AI models locally for script generation. Privacy-focused
      alternative to cloud APIs.
    &lt;/Text&gt;
  &lt;/CardHeader&gt;
  
  &lt;CardPreview className=&quot;content&quot;&gt;
    &lt;div className=&quot;infoBox&quot;&gt;        // Blue info box
      â„¹ï¸ If Ollama is running locally (port 11434), detection is automatic.
    &lt;/div&gt;
    
    {/* Conditional success/error message based on detection result */}
  &lt;/CardPreview&gt;
&lt;/OllamaCard&gt;
</code></pre>
<h2 id="auto-detection-flow">Auto-Detection Flow</h2>
<pre><code>Page Load
    â†“
useOllamaDetection(true)
    â†“
Check sessionStorage cache
    â”œâ”€ Cached &amp; Fresh? â†’ Display cached result (instant)
    â””â”€ No cache/Expired? â†’ Continue to probe
        â†“
    Probe: fetch('http://localhost:11434/api/tags')
        â”œâ”€ Timeout: 2000ms
        â””â”€ AbortController for cleanup
        â†“
    First attempt result
        â”œâ”€ Success (200 OK) â†’ Display &quot;Detected&quot;, cache result
        â””â”€ Failure â†’ Wait 500ms, retry once
            â†“
        Second attempt result
            â”œâ”€ Success â†’ Display &quot;Detected&quot;, cache result
            â””â”€ Failure â†’ Display &quot;Not Found&quot;
</code></pre>
<h2 id="user-interactions">User Interactions</h2>
<h3 id="automatic-detection-on-page-load">Automatic Detection (On Page Load)</h3>
<ol>
<li>User navigates to Settings â†’ Downloads â†’ Engines</li>
<li>OllamaCard renders with &quot;Checking...&quot; status</li>
<li>Within ~1 second:
<ul>
<li>If Ollama running: Changes to &quot;Detected&quot; âœ“</li>
<li>If Ollama not running: Changes to &quot;Not Found&quot; âš ï¸</li>
</ul>
</li>
<li>Result cached in sessionStorage for 5 minutes</li>
</ol>
<h3 id="manual-detection-auto-detect-button">Manual Detection (Auto-Detect Button)</h3>
<ol>
<li>User clicks &quot;Auto-Detect&quot; button</li>
<li>Button becomes disabled, status shows &quot;Checking...&quot;</li>
<li>New detection attempt (bypasses cache)</li>
<li>Within ~1 second, status updates to result</li>
<li>New result cached in sessionStorage</li>
</ol>
<h3 id="session-caching-behavior">Session Caching Behavior</h3>
<ul>
<li><strong>First visit</strong>: ~1 second for detection</li>
<li><strong>Subsequent visits (within 5 min)</strong>: Instant (uses cache)</li>
<li><strong>After 5 minutes</strong>: Fresh detection on next visit</li>
<li><strong>Cache cleared on</strong>: Browser close, manual cache clear</li>
</ul>
<h2 id="styling-details">Styling Details</h2>
<h3 id="colors-fluent-ui-tokens">Colors (Fluent UI Tokens)</h3>
<ul>
<li><strong>Detected</strong>: <code>colorPaletteGreenForeground1</code> / <code>colorPaletteGreenBackground1</code></li>
<li><strong>Not Found</strong>: <code>colorNeutralForeground3</code> / <code>colorNeutralBackground2</code></li>
<li><strong>Checking</strong>: <code>colorNeutralForeground1</code> / <code>colorNeutralBackground1</code></li>
<li><strong>Info Box</strong>: <code>colorBrandForeground1</code> / <code>colorNeutralBackground2</code></li>
</ul>
<h3 id="icons">Icons</h3>
<ul>
<li><strong>Detected</strong>: <code>Checkmark24Regular</code> (32px, green)</li>
<li><strong>Not Found</strong>: <code>Warning24Regular</code> (32px, gray)</li>
<li><strong>Checking</strong>: <code>Spinner</code> (medium size)</li>
<li><strong>Auto-Detect Button</strong>: <code>ArrowSync24Regular</code></li>
<li><strong>Info Box</strong>: <code>Info24Regular</code></li>
</ul>
<h3 id="spacing">Spacing</h3>
<ul>
<li>Card padding: <code>spacingVerticalM</code></li>
<li>Gap between elements: <code>spacingVerticalS</code></li>
<li>Header gap: <code>spacingHorizontalS</code></li>
<li>Info box padding: <code>spacingVerticalS</code></li>
</ul>
<h2 id="comparison-with-wizard-component">Comparison with Wizard Component</h2>
<h3 id="ollamadependencycard-wizard---unchanged">OllamaDependencyCard (Wizard - UNCHANGED)</h3>
<ul>
<li>Location: First-run wizard, dependencies step</li>
<li>Auto-detection: Optional via prop <code>autoDetect={true}</code></li>
<li>Button location: Bottom of card, in separate section</li>
<li>No session caching</li>
<li>Simpler UI (no info boxes)</li>
</ul>
<h3 id="ollamacard-settingsdownloads---new">OllamaCard (Settings/Downloads - NEW)</h3>
<ul>
<li>Location: Settings â†’ Downloads â†’ Engines tab</li>
<li>Auto-detection: Always on by default</li>
<li>Button location: Card header, next to status badge</li>
<li>Session caching enabled</li>
<li>Enhanced UI with info boxes and helper text</li>
<li>Prominent status display</li>
</ul>
<h2 id="browser-compatibility">Browser Compatibility</h2>
<ul>
<li>âœ… Chrome/Edge (tested)</li>
<li>âœ… Firefox (expected to work)</li>
<li>âœ… Safari (expected to work with CORS limitations)</li>
<li>â„¹ï¸ AbortController supported in all modern browsers</li>
<li>â„¹ï¸ sessionStorage supported in all modern browsers</li>
<li>âš ï¸ CORS may block probe in some browsers (fails silently to &quot;Not Found&quot;)</li>
</ul>

</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/Coffee285/aura-video-studio/blob/main/docs/user-guide/OLLAMA_AUTO_DETECTION_VISUAL_GUIDE.md/#L1" class="edit-link">Edit this page</a>
        </div>

        <div class="next-article d-print-none border-top" id="nextArticle"></div>

      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          Â© 2025 Aura Video Studio. Documentation built with DocFX.
        </div>
      </div>
    </footer>
  </body>
</html>
