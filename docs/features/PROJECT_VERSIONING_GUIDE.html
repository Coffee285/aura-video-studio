<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Project Versioning System - User Guide | Aura Video Studio </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Project Versioning System - User Guide | Aura Video Studio ">
      
      
      <link rel="icon" href="../../favicon.ico">
      <link rel="stylesheet" href="../../public/docfx.min.css">
      <link rel="stylesheet" href="../../public/main.css">
      <meta name="docfx:navrel" content="../../toc.html">
      <meta name="docfx:tocrel" content="../../toc.html">
      
      <meta name="docfx:rel" content="../../">
      
      
      <meta name="docfx:docurl" content="https://github.com/Coffee285/aura-video-studio/blob/main/docs/features/PROJECT_VERSIONING_GUIDE.md/#L1">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../../index.html">
            <img id="logo" class="svg" src="../../logo.svg" alt="Aura Video Studio">
            Aura Video Studio
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">

      <div class="content">
        <div class="actionbar">

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="">
<h1 id="project-versioning-system---user-guide">Project Versioning System - User Guide</h1>

<h2 id="overview">Overview</h2>
<p>The Project Versioning System provides comprehensive version control for your video projects, including:</p>
<ul>
<li><strong>Autosave</strong>: Automatic periodic saves every 5 minutes</li>
<li><strong>Manual Snapshots</strong>: Create named versions at any time</li>
<li><strong>Restore Points</strong>: Automatic versions before major operations</li>
<li><strong>A/B Comparison</strong>: Compare any two versions side-by-side</li>
<li><strong>Storage Optimization</strong>: Content deduplication reduces storage by 60-80%</li>
</ul>
<h2 id="features">Features</h2>
<h3 id="1-autosave">1. Autosave</h3>
<p>Projects are automatically saved in the background every 5 minutes (with a minimum 2-minute interval between saves).</p>
<p><strong>Benefits:</strong></p>
<ul>
<li>Never lose work due to crashes or unexpected exits</li>
<li>Seamless background operation</li>
<li>Automatic cleanup of old autosaves</li>
</ul>
<p><strong>Configuration:</strong></p>
<ul>
<li>Autosave interval: 5 minutes (default)</li>
<li>Minimum time between saves: 2 minutes</li>
<li>Retention: Last 10 autosaves kept by default</li>
</ul>
<h3 id="2-manual-snapshots">2. Manual Snapshots</h3>
<p>Create named versions at important milestones.</p>
<p><strong>How to Create:</strong></p>
<ol>
<li>Open Version List panel</li>
<li>Click &quot;Create Snapshot&quot;</li>
<li>Enter name and description (optional)</li>
<li>Click &quot;Save&quot;</li>
</ol>
<p><strong>Best Practices:</strong></p>
<ul>
<li>Create snapshots before major changes</li>
<li>Use descriptive names: &quot;Before Script Rewrite&quot;, &quot;Final Draft v1&quot;</li>
<li>Add descriptions to document what changed</li>
</ul>
<h3 id="3-restore-points">3. Restore Points</h3>
<p>Automatic versions created before major operations:</p>
<ul>
<li><code>PreScriptRegeneration</code> - Before regenerating script</li>
<li><code>PostLLMRefinement</code> - After LLM improvements</li>
<li><code>PreBulkTimelineChange</code> - Before bulk timeline edits</li>
</ul>
<p><strong>Benefits:</strong></p>
<ul>
<li>Easy rollback if changes don't work out</li>
<li>Clear audit trail of operations</li>
<li>No manual intervention required</li>
</ul>
<h3 id="4-version-types">4. Version Types</h3>
<p><strong>Manual</strong> - User-created snapshots with custom names</p>
<ul>
<li>Shown with green badge</li>
<li>Never auto-deleted</li>
<li>Can be marked as important</li>
</ul>
<p><strong>Autosave</strong> - Automatic periodic saves</p>
<ul>
<li>Shown with blue badge</li>
<li>Subject to retention policy</li>
<li>Can be promoted to manual by marking important</li>
</ul>
<p><strong>RestorePoint</strong> - Pre-operation backups</p>
<ul>
<li>Shown with orange badge</li>
<li>Includes trigger information</li>
<li>Protected from cleanup for 30 days</li>
</ul>
<h3 id="5-ab-comparison">5. A/B Comparison</h3>
<p>Compare any two versions to see what changed.</p>
<p><strong>How to Compare:</strong></p>
<ol>
<li>Open Version List panel</li>
<li>Select two versions by clicking checkboxes</li>
<li>Click &quot;Compare Selected&quot;</li>
<li>View side-by-side diff</li>
</ol>
<p><strong>What's Compared:</strong></p>
<ul>
<li>Brief (topic, audience, goal, tone)</li>
<li>Plan (duration, pacing, density, style)</li>
<li>Voice Settings (voice, rate, pitch)</li>
<li>Render Settings (resolution, codec, quality)</li>
<li>Timeline (scenes, transitions, effects)</li>
</ul>
<h3 id="6-storage-management">6. Storage Management</h3>
<p><strong>Storage Optimization:</strong></p>
<ul>
<li>Content-addressable storage uses SHA256 hashing</li>
<li>Identical content stored only once</li>
<li>Typical savings: 60-80% compared to full copies</li>
</ul>
<p><strong>Storage Usage:</strong></p>
<ul>
<li>View in Settings &gt; Storage</li>
<li>Shows breakdown by version type</li>
<li>Displays formatted size (MB/GB)</li>
</ul>
<p><strong>Cleanup:</strong></p>
<ul>
<li>Old autosaves auto-deleted after 7 days</li>
<li>Manual versions never auto-deleted</li>
<li>Important versions protected from cleanup</li>
</ul>
<h2 id="api-reference">API Reference</h2>
<h3 id="endpoints">Endpoints</h3>
<p><strong>Get All Versions</strong></p>
<pre><code>GET /api/projects/{projectId}/versions
</code></pre>
<p><strong>Get Specific Version</strong></p>
<pre><code>GET /api/projects/{projectId}/versions/{versionId}
</code></pre>
<p><strong>Create Snapshot</strong></p>
<pre><code>POST /api/projects/{projectId}/versions
Body: { projectId, name?, description? }
</code></pre>
<p><strong>Restore Version</strong></p>
<pre><code>POST /api/projects/{projectId}/versions/restore
Body: { projectId, versionId }
</code></pre>
<p><strong>Update Version Metadata</strong></p>
<pre><code>PATCH /api/projects/{projectId}/versions/{versionId}
Body: { name?, description?, isMarkedImportant? }
</code></pre>
<p><strong>Delete Version</strong></p>
<pre><code>DELETE /api/projects/{projectId}/versions/{versionId}
</code></pre>
<p><strong>Compare Versions</strong></p>
<pre><code>GET /api/projects/{projectId}/versions/compare?version1Id={v1}&amp;version2Id={v2}
</code></pre>
<p><strong>Storage Usage</strong></p>
<pre><code>GET /api/projects/{projectId}/versions/storage
</code></pre>
<p><strong>Trigger Autosave</strong></p>
<pre><code>POST /api/projects/{projectId}/versions/autosave
</code></pre>
<h2 id="implementation-details">Implementation Details</h2>
<h3 id="backend-architecture">Backend Architecture</h3>
<p><strong>Data Model:</strong></p>
<ul>
<li><code>ProjectVersionEntity</code> - Stores version metadata and references</li>
<li><code>ContentBlobEntity</code> - Stores deduplicated content with reference counting</li>
<li><code>ProjectStateEntity</code> - Current project state (extended from existing)</li>
</ul>
<p><strong>Services:</strong></p>
<ul>
<li><code>ProjectVersionService</code> - Business logic for version operations</li>
<li><code>ProjectVersionRepository</code> - Data access with deduplication</li>
<li><code>ProjectAutosaveService</code> - Background autosave hosted service</li>
</ul>
<p><strong>Storage:</strong></p>
<ul>
<li>SQLite database for metadata</li>
<li>Content-addressable blobs for data</li>
<li>SHA256 hashing for deduplication</li>
</ul>
<h3 id="frontend-architecture">Frontend Architecture</h3>
<p><strong>State Management:</strong></p>
<ul>
<li>Zustand store: <code>useProjectVersionsStore</code></li>
<li>Tracks versions, comparison, storage usage</li>
<li>Manages autosave status</li>
</ul>
<p><strong>Components:</strong></p>
<ul>
<li><code>VersionList</code> - List, restore, delete versions</li>
<li><code>VersionComparison</code> - Side-by-side diff viewer</li>
<li><code>AutoSaveIndicator</code> - Shows autosave status (existing component)</li>
</ul>
<p><strong>API Client:</strong></p>
<ul>
<li><code>src/api/versions.ts</code> - Type-safe API functions</li>
<li>Proper error handling with correlation IDs</li>
<li>Circuit breaker for resilience</li>
</ul>
<h2 id="performance-characteristics">Performance Characteristics</h2>
<h3 id="autosave-performance">Autosave Performance</h3>
<ul>
<li>Typical save time: 50-200ms</li>
<li>Network overhead: minimal (async background)</li>
<li>No user interface blocking</li>
</ul>
<h3 id="comparison-performance">Comparison Performance</h3>
<ul>
<li>Load time: 100-500ms depending on data size</li>
<li>JSON parsing: client-side</li>
<li>Diff calculation: real-time</li>
</ul>
<h3 id="storage-performance">Storage Performance</h3>
<ul>
<li>Deduplication ratio: 60-80% savings</li>
<li>Hash calculation: &lt;10ms per blob</li>
<li>Lookup time: &lt;5ms (indexed by hash)</li>
</ul>
<h2 id="security-considerations">Security Considerations</h2>
<h3 id="data-protection">Data Protection</h3>
<ul>
<li>All content stored with integrity verification (SHA256)</li>
<li>Soft delete prevents accidental data loss</li>
<li>Correlation IDs for audit trail</li>
</ul>
<h3 id="access-control">Access Control</h3>
<ul>
<li>Project-level isolation</li>
<li>User IDs tracked for manual snapshots</li>
<li>API authentication required (OAuth/JWT)</li>
</ul>
<h3 id="privacy">Privacy</h3>
<ul>
<li>No cloud sync (local-only)</li>
<li>Full user control over retention</li>
<li>Export/import capabilities for backup</li>
</ul>
<h2 id="troubleshooting">Troubleshooting</h2>
<h3 id="autosave-not-working">Autosave Not Working</h3>
<ol>
<li>Check that project is registered for autosave</li>
<li>Verify backend service is running</li>
<li>Check logs for error messages</li>
<li>Ensure sufficient disk space</li>
</ol>
<h3 id="version-restore-failed">Version Restore Failed</h3>
<ol>
<li>Verify version exists and isn't deleted</li>
<li>Check that project ID matches</li>
<li>Review error message for details</li>
<li>Try creating a backup first</li>
</ol>
<h3 id="comparison-not-loading">Comparison Not Loading</h3>
<ol>
<li>Ensure both versions exist</li>
<li>Check network connectivity</li>
<li>Verify JSON data is valid</li>
<li>Review browser console for errors</li>
</ol>
<h3 id="storage-usage-high">Storage Usage High</h3>
<ol>
<li>Run cleanup for old autosaves</li>
<li>Delete unnecessary manual versions</li>
<li>Check for duplicated content</li>
<li>Consider archiving old projects</li>
</ol>
<h2 id="future-enhancements">Future Enhancements</h2>
<p>Planned features for future releases:</p>
<ul>
<li>Cloud sync and collaboration</li>
<li>Branching and merging workflows</li>
<li>Diff visualization with syntax highlighting</li>
<li>Version annotations and comments</li>
<li>Scheduled snapshots</li>
<li>Export/import version history</li>
<li>Integration with Git workflows</li>
<li>Version comparison reports</li>
</ul>
<h2 id="support">Support</h2>
<p>For issues or questions:</p>
<ol>
<li>Check logs in <code>logs/</code> directory</li>
<li>Review correlation IDs in error messages</li>
<li>Check GitHub issues for known problems</li>
<li>Submit bug reports with reproduction steps</li>
</ol>
<h2 id="license">License</h2>
<p>This feature is part of Aura Video Studio.
See main project LICENSE for details.</p>

</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/Coffee285/aura-video-studio/blob/main/docs/features/PROJECT_VERSIONING_GUIDE.md/#L1" class="edit-link">Edit this page</a>
        </div>

        <div class="next-article d-print-none border-top" id="nextArticle"></div>

      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          Â© 2025 Aura Video Studio. Documentation built with DocFX.
        </div>
      </div>
    </footer>
  </body>
</html>
