<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>Context Menu System Documentation | Aura Video Studio </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="Context Menu System Documentation | Aura Video Studio ">
      
      
      <link rel="icon" href="../favicon.ico">
      <link rel="stylesheet" href="../public/docfx.min.css">
      <link rel="stylesheet" href="../public/main.css">
      <meta name="docfx:navrel" content="../toc.html">
      <meta name="docfx:tocrel" content="../toc.html">
      
      <meta name="docfx:rel" content="../">
      
      
      <meta name="docfx:docurl" content="https://github.com/Coffee285/aura-video-studio/blob/main/docs/CONTEXT_MENUS.md/#L1">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../index.html">
            <img id="logo" class="svg" src="../logo.svg" alt="Aura Video Studio">
            Aura Video Studio
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
              <form class="search" role="search" id="search">
                <i class="bi bi-search"></i>
                <input class="form-control" id="search-query" type="search" disabled placeholder="Search" autocomplete="off" aria-label="Search">
              </form>
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">

      <div class="content">
        <div class="actionbar">

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="">
<h1 id="context-menu-system-documentation">Context Menu System Documentation</h1>

<h2 id="overview">Overview</h2>
<p>Aura Video Studio includes a comprehensive context menu system built on Electron's native menu API. Context menus are available throughout the application for enhanced productivity.</p>
<h2 id="architecture">Architecture</h2>
<h3 id="components">Components</h3>
<ol>
<li><strong>Electron Main Process</strong> - Menu builder and IPC handlers</li>
<li><strong>Electron Preload</strong> - Bridge between main and renderer processes</li>
<li><strong>React Hooks</strong> - Easy integration into components</li>
<li><strong>Type Definitions</strong> - Full TypeScript support</li>
</ol>
<h3 id="flow-diagram">Flow Diagram</h3>
<pre><code>User Right-Click -&gt; React Component -&gt; useContextMenu Hook -&gt; IPC Call -&gt;
Electron Main Process -&gt; Menu Builder -&gt; Native OS Menu -&gt; User Selection -&gt;
IPC Callback -&gt; React Handler -&gt; State Update
</code></pre>
<h3 id="file-locations">File Locations</h3>
<table>
<thead>
<tr>
<th>Component</th>
<th>Location</th>
</tr>
</thead>
<tbody>
<tr>
<td>Type Definitions</td>
<td><code>Aura.Desktop/electron/context-menu-types.ts</code></td>
</tr>
<tr>
<td>Menu Builder</td>
<td><code>Aura.Desktop/electron/context-menu-builder.js</code></td>
</tr>
<tr>
<td>IPC Handler</td>
<td><code>Aura.Desktop/electron/ipc-handlers/context-menu-handler.js</code></td>
</tr>
<tr>
<td>Preload Script</td>
<td><code>Aura.Desktop/electron/preload.js</code></td>
</tr>
<tr>
<td>React Hook</td>
<td><code>Aura.Web/src/hooks/useContextMenu.ts</code></td>
</tr>
<tr>
<td>Frontend Types</td>
<td><code>Aura.Web/src/types/electron-context-menu.ts</code></td>
</tr>
</tbody>
</table>
<h2 id="available-context-menus">Available Context Menus</h2>
<h3 id="1-timeline-clip-menu">1. Timeline Clip Menu</h3>
<p><strong>Trigger:</strong> Right-click on any clip in the timeline</p>
<p><strong>Options:</strong></p>
<table>
<thead>
<tr>
<th>Label</th>
<th>Accelerator</th>
<th>Action</th>
</tr>
</thead>
<tbody>
<tr>
<td>Cut</td>
<td>Ctrl+X</td>
<td><code>onCut</code></td>
</tr>
<tr>
<td>Copy</td>
<td>Ctrl+C</td>
<td><code>onCopy</code></td>
</tr>
<tr>
<td>Paste</td>
<td>Ctrl+V</td>
<td><code>onPaste</code></td>
</tr>
<tr>
<td>Duplicate</td>
<td>Ctrl+D</td>
<td><code>onDuplicate</code></td>
</tr>
<tr>
<td>Split at Playhead</td>
<td>S</td>
<td><code>onSplit</code></td>
</tr>
<tr>
<td>Delete</td>
<td>Delete</td>
<td><code>onDelete</code></td>
</tr>
<tr>
<td>Ripple Delete</td>
<td>Shift+Delete</td>
<td><code>onRippleDelete</code></td>
</tr>
<tr>
<td>Properties</td>
<td>Ctrl+I</td>
<td><code>onProperties</code></td>
</tr>
</tbody>
</table>
<p><strong>Data Interface:</strong></p>
<pre><code class="lang-typescript">interface TimelineClipMenuData {
  clipId: string;
  clipType: 'video' | 'audio' | 'image';
  startTime: number;
  duration: number;
  trackId: string;
  isLocked: boolean;
  hasAudio: boolean;
  hasClipboardData?: boolean;
}
</code></pre>
<h3 id="2-timeline-track-menu">2. Timeline Track Menu</h3>
<p><strong>Trigger:</strong> Right-click on track header</p>
<p><strong>Options:</strong></p>
<table>
<thead>
<tr>
<th>Label</th>
<th>Type</th>
<th>Action</th>
</tr>
</thead>
<tbody>
<tr>
<td>Add Track Above</td>
<td>normal</td>
<td><code>onAddTrack</code> (with 'above')</td>
</tr>
<tr>
<td>Add Track Below</td>
<td>normal</td>
<td><code>onAddTrack</code> (with 'below')</td>
</tr>
<tr>
<td>Lock Track</td>
<td>checkbox</td>
<td><code>onToggleLock</code></td>
</tr>
<tr>
<td>Mute Track</td>
<td>checkbox</td>
<td><code>onToggleMute</code></td>
</tr>
<tr>
<td>Solo Track</td>
<td>checkbox</td>
<td><code>onToggleSolo</code></td>
</tr>
<tr>
<td>Rename Track</td>
<td>normal</td>
<td><code>onRename</code></td>
</tr>
<tr>
<td>Delete Track</td>
<td>normal</td>
<td><code>onDelete</code></td>
</tr>
</tbody>
</table>
<p><strong>Data Interface:</strong></p>
<pre><code class="lang-typescript">interface TimelineTrackMenuData {
  trackId: string;
  trackType: 'video' | 'audio' | 'overlay';
  isLocked: boolean;
  isMuted: boolean;
  isSolo: boolean;
  trackIndex: number;
  totalTracks: number;
}
</code></pre>
<h3 id="3-timeline-empty-space-menu">3. Timeline Empty Space Menu</h3>
<p><strong>Trigger:</strong> Right-click on empty timeline area</p>
<p><strong>Options:</strong></p>
<table>
<thead>
<tr>
<th>Label</th>
<th>Accelerator</th>
<th>Action</th>
</tr>
</thead>
<tbody>
<tr>
<td>Paste</td>
<td>Ctrl+V</td>
<td><code>onPaste</code></td>
</tr>
<tr>
<td>Add Marker</td>
<td>M</td>
<td><code>onAddMarker</code></td>
</tr>
<tr>
<td>Select All Clips</td>
<td>Ctrl+A</td>
<td><code>onSelectAll</code></td>
</tr>
</tbody>
</table>
<p><strong>Data Interface:</strong></p>
<pre><code class="lang-typescript">interface TimelineEmptyMenuData {
  timePosition: number;
  trackId?: string;
  hasClipboardData: boolean;
}
</code></pre>
<h3 id="4-media-asset-menu">4. Media Asset Menu</h3>
<p><strong>Trigger:</strong> Right-click on asset in media library</p>
<p><strong>Options:</strong></p>
<table>
<thead>
<tr>
<th>Label</th>
<th>Accelerator</th>
<th>Type</th>
<th>Action</th>
</tr>
</thead>
<tbody>
<tr>
<td>Add to Timeline</td>
<td>-</td>
<td>normal</td>
<td><code>onAddToTimeline</code></td>
</tr>
<tr>
<td>Preview</td>
<td>-</td>
<td>normal</td>
<td><code>onPreview</code></td>
</tr>
<tr>
<td>Rename</td>
<td>F2</td>
<td>normal</td>
<td><code>onRename</code></td>
</tr>
<tr>
<td>Add to Favorites</td>
<td>-</td>
<td>checkbox</td>
<td><code>onToggleFavorite</code></td>
</tr>
<tr>
<td>Reveal in File Explorer</td>
<td>Ctrl+R</td>
<td>normal</td>
<td><code>onRevealInOS</code></td>
</tr>
<tr>
<td>Properties</td>
<td>-</td>
<td>normal</td>
<td><code>onProperties</code></td>
</tr>
<tr>
<td>Delete from Library</td>
<td>-</td>
<td>normal</td>
<td><code>onDelete</code></td>
</tr>
</tbody>
</table>
<p><strong>Data Interface:</strong></p>
<pre><code class="lang-typescript">interface MediaAssetMenuData {
  assetId: string;
  assetType: 'video' | 'audio' | 'image';
  filePath: string;
  isFavorite: boolean;
  tags: string[];
}
</code></pre>
<h3 id="5-ai-script-menu">5. AI Script Menu</h3>
<p><strong>Trigger:</strong> Right-click on generated script scene</p>
<p><strong>Options:</strong></p>
<table>
<thead>
<tr>
<th>Label</th>
<th>Accelerator</th>
<th>Action</th>
</tr>
</thead>
<tbody>
<tr>
<td>Regenerate This Scene</td>
<td>-</td>
<td><code>onRegenerate</code></td>
</tr>
<tr>
<td>Expand Section</td>
<td>-</td>
<td><code>onExpand</code></td>
</tr>
<tr>
<td>Shorten Section</td>
<td>-</td>
<td><code>onShorten</code></td>
</tr>
<tr>
<td>Generate B-Roll Suggestions</td>
<td>-</td>
<td><code>onGenerateBRoll</code></td>
</tr>
<tr>
<td>Copy Text</td>
<td>Ctrl+C</td>
<td><code>onCopyText</code></td>
</tr>
</tbody>
</table>
<p><strong>Data Interface:</strong></p>
<pre><code class="lang-typescript">interface AIScriptMenuData {
  sceneIndex: number;
  sceneText: string;
  jobId: string;
}
</code></pre>
<h3 id="6-job-queue-menu">6. Job Queue Menu</h3>
<p><strong>Trigger:</strong> Right-click on job in queue</p>
<p><strong>Options:</strong></p>
<table>
<thead>
<tr>
<th>Label</th>
<th>Enabled When</th>
<th>Action</th>
</tr>
</thead>
<tbody>
<tr>
<td>Pause Job</td>
<td>Running</td>
<td><code>onPause</code></td>
</tr>
<tr>
<td>Resume Job</td>
<td>Paused</td>
<td><code>onResume</code></td>
</tr>
<tr>
<td>Cancel Job</td>
<td>Running/Paused/Queued</td>
<td><code>onCancel</code></td>
</tr>
<tr>
<td>View Logs</td>
<td>Always</td>
<td><code>onViewLogs</code></td>
</tr>
<tr>
<td>Retry Job</td>
<td>Failed</td>
<td><code>onRetry</code></td>
</tr>
<tr>
<td>Open Output File</td>
<td>Completed with output</td>
<td><code>onOpenOutput</code></td>
</tr>
<tr>
<td>Reveal Output in Explorer</td>
<td>Completed with output</td>
<td><code>onRevealOutput</code></td>
</tr>
</tbody>
</table>
<p><strong>Data Interface:</strong></p>
<pre><code class="lang-typescript">interface JobQueueMenuData {
  jobId: string;
  status: 'queued' | 'running' | 'paused' | 'completed' | 'failed' | 'canceled';
  outputPath?: string;
}
</code></pre>
<h3 id="7-preview-window-menu">7. Preview Window Menu</h3>
<p><strong>Trigger:</strong> Right-click on video preview</p>
<p><strong>Options:</strong></p>
<table>
<thead>
<tr>
<th>Label</th>
<th>Accelerator</th>
<th>Action</th>
</tr>
</thead>
<tbody>
<tr>
<td>Play/Pause</td>
<td>Space</td>
<td><code>onTogglePlayback</code></td>
</tr>
<tr>
<td>Add Marker at Current Frame</td>
<td>M</td>
<td><code>onAddMarker</code></td>
</tr>
<tr>
<td>Export Frame as Image</td>
<td>-</td>
<td><code>onExportFrame</code></td>
</tr>
<tr>
<td>Zoom (submenu)</td>
<td>-</td>
<td><code>onSetZoom</code></td>
</tr>
</tbody>
</table>
<p><strong>Zoom Submenu:</strong></p>
<ul>
<li>Fit to Window</li>
<li>50%</li>
<li>100%</li>
<li>200%</li>
</ul>
<p><strong>Data Interface:</strong></p>
<pre><code class="lang-typescript">interface PreviewWindowMenuData {
  currentTime: number;
  duration: number;
  isPlaying: boolean;
  zoom: number;
}
</code></pre>
<h3 id="8-ai-provider-menu">8. AI Provider Menu</h3>
<p><strong>Trigger:</strong> Right-click on provider in settings</p>
<p><strong>Options:</strong></p>
<table>
<thead>
<tr>
<th>Label</th>
<th>Type</th>
<th>Action</th>
</tr>
</thead>
<tbody>
<tr>
<td>Test Connection</td>
<td>normal</td>
<td><code>onTestConnection</code></td>
</tr>
<tr>
<td>View Usage Stats</td>
<td>normal</td>
<td><code>onViewStats</code></td>
</tr>
<tr>
<td>Set as Default</td>
<td>checkbox</td>
<td><code>onSetDefault</code></td>
</tr>
<tr>
<td>Configure</td>
<td>normal</td>
<td><code>onConfigure</code></td>
</tr>
</tbody>
</table>
<p><strong>Data Interface:</strong></p>
<pre><code class="lang-typescript">interface AIProviderMenuData {
  providerId: string;
  providerType: 'llm' | 'tts' | 'image';
  isDefault: boolean;
  hasFallback: boolean;
}
</code></pre>
<h2 id="usage-in-components">Usage in Components</h2>
<h3 id="basic-example">Basic Example</h3>
<pre><code class="lang-tsx">import { useContextMenu, useContextMenuAction } from '@/hooks/useContextMenu';

function MyComponent() {
  const showContextMenu = useContextMenu('timeline-clip');

  const handleContextMenu = (e: React.MouseEvent) =&gt; {
    const menuData = {
      clipId: 'clip-123',
      clipType: 'video',
    };
    showContextMenu(e, menuData);
  };

  useContextMenuAction('timeline-clip', 'onDelete', (data) =&gt; {
    console.log('Delete clip:', data.clipId);
  });

  return (
    &lt;div onContextMenu={handleContextMenu}&gt;
      Right-click me!
    &lt;/div&gt;
  );
}
</code></pre>
<h3 id="advanced-example-with-multiple-actions">Advanced Example with Multiple Actions</h3>
<pre><code class="lang-tsx">function TimelineClip({ clip }) {
  const showContextMenu = useContextMenu('timeline-clip');

  useContextMenuAction('timeline-clip', 'onCut', handleCut);
  useContextMenuAction('timeline-clip', 'onCopy', handleCopy);
  useContextMenuAction('timeline-clip', 'onPaste', handlePaste);
  useContextMenuAction('timeline-clip', 'onDuplicate', handleDuplicate);
  useContextMenuAction('timeline-clip', 'onSplit', handleSplit);
  useContextMenuAction('timeline-clip', 'onDelete', handleDelete);
  useContextMenuAction('timeline-clip', 'onRippleDelete', handleRippleDelete);
  useContextMenuAction('timeline-clip', 'onProperties', handleProperties);

  const handleContextMenu = (e: React.MouseEvent) =&gt; {
    showContextMenu(e, {
      clipId: clip.id,
      clipType: clip.type,
      startTime: clip.startTime,
      duration: clip.duration,
      trackId: clip.trackId,
      isLocked: clip.isLocked,
      hasAudio: clip.hasAudio
    });
  };

  return &lt;div onContextMenu={handleContextMenu}&gt;{/* content */}&lt;/div&gt;;
}
</code></pre>
<h3 id="using-specialized-hooks">Using Specialized Hooks</h3>
<p>For common use cases, specialized hooks are provided:</p>
<pre><code class="lang-tsx">import { useJobQueueContextMenu } from '@/hooks/useJobQueueContextMenu';

function JobQueueItem({ job }) {
  const handleContextMenu = useJobQueueContextMenu({
    onPause: (jobId) =&gt; pauseJob(jobId),
    onResume: (jobId) =&gt; resumeJob(jobId),
    onCancel: (jobId) =&gt; cancelJob(jobId),
    onViewLogs: (jobId) =&gt; openLogs(jobId),
    onRetry: (jobId) =&gt; retryJob(jobId),
  });

  return (
    &lt;div onContextMenu={(e) =&gt; handleContextMenu(e, job)}&gt;
      {job.name}
    &lt;/div&gt;
  );
}
</code></pre>
<h2 id="keyboard-shortcuts">Keyboard Shortcuts</h2>
<p>All context menu accelerators also work as keyboard shortcuts:</p>
<table>
<thead>
<tr>
<th>Shortcut</th>
<th>Action</th>
</tr>
</thead>
<tbody>
<tr>
<td>Ctrl+X</td>
<td>Cut</td>
</tr>
<tr>
<td>Ctrl+C</td>
<td>Copy</td>
</tr>
<tr>
<td>Ctrl+V</td>
<td>Paste</td>
</tr>
<tr>
<td>Ctrl+D</td>
<td>Duplicate</td>
</tr>
<tr>
<td>S</td>
<td>Split at Playhead</td>
</tr>
<tr>
<td>M</td>
<td>Add Marker</td>
</tr>
<tr>
<td>Delete</td>
<td>Delete</td>
</tr>
<tr>
<td>Shift+Delete</td>
<td>Ripple Delete</td>
</tr>
<tr>
<td>F2</td>
<td>Rename</td>
</tr>
<tr>
<td>Ctrl+I</td>
<td>Properties</td>
</tr>
<tr>
<td>Ctrl+A</td>
<td>Select All</td>
</tr>
<tr>
<td>Space</td>
<td>Play/Pause</td>
</tr>
</tbody>
</table>
<h2 id="adding-new-context-menus">Adding New Context Menus</h2>
<h3 id="step-1-add-type-definition">Step 1: Add Type Definition</h3>
<p>In <code>Aura.Desktop/electron/context-menu-types.ts</code>:</p>
<pre><code class="lang-typescript">export type ContextMenuType =
  | 'existing-types'
  | 'my-new-menu';

export interface MyNewMenuData {
  itemId: string;
  // Add other properties as needed
}
</code></pre>
<h3 id="step-2-add-menu-builder">Step 2: Add Menu Builder</h3>
<p>In <code>Aura.Desktop/electron/context-menu-builder.js</code>:</p>
<pre><code class="lang-javascript">buildMyNewMenu(data, callbacks) {
  const template = [
    {
      label: 'My Action',
      click: () =&gt; callbacks.onMyAction?.(data)
    }
  ];
  return Menu.buildFromTemplate(template);
}
</code></pre>
<p>Update the <code>build</code> method switch statement:</p>
<pre><code class="lang-javascript">case 'my-new-menu':
  return this.buildMyNewMenu(data, callbacks);
</code></pre>
<h3 id="step-3-update-ipc-handler">Step 3: Update IPC Handler</h3>
<p>In <code>Aura.Desktop/electron/ipc-handlers/context-menu-handler.js</code>:</p>
<pre><code class="lang-javascript">const ACTION_MAP = {
  // ... existing actions
  'my-new-menu': ['onMyAction'],
};
</code></pre>
<h3 id="step-4-update-frontend-types">Step 4: Update Frontend Types</h3>
<p>In <code>Aura.Web/src/types/electron-context-menu.ts</code>:</p>
<pre><code class="lang-typescript">export type ContextMenuType =
  | 'existing-types'
  | 'my-new-menu';

export interface MyNewMenuData {
  itemId: string;
}
</code></pre>
<h3 id="step-5-create-react-hook-optional">Step 5: Create React Hook (Optional)</h3>
<pre><code class="lang-typescript">export function useMyNewContextMenu(onMyAction: (data: MyNewMenuData) =&gt; void) {
  const showContextMenu = useContextMenu&lt;MyNewMenuData&gt;('my-new-menu');
  
  useContextMenuAction('my-new-menu', 'onMyAction', onMyAction);
  
  return showContextMenu;
}
</code></pre>
<h3 id="step-6-use-in-component">Step 6: Use in Component</h3>
<pre><code class="lang-tsx">const handleContextMenu = useMyNewContextMenu((data) =&gt; {
  // Handle action
});

return (
  &lt;div onContextMenu={(e) =&gt; handleContextMenu(e, { itemId: 'item-1' })}&gt;
    Right-click me
  &lt;/div&gt;
);
</code></pre>
<h2 id="troubleshooting">Troubleshooting</h2>
<h3 id="menu-not-appearing">Menu Not Appearing</h3>
<ol>
<li>Verify <code>window.electron.contextMenu</code> is available</li>
<li>Check console for IPC errors</li>
<li>Ensure menu type is registered in builder</li>
<li>Confirm preload script is loading correctly</li>
</ol>
<h3 id="actions-not-firing">Actions Not Firing</h3>
<ol>
<li>Verify action type is listed in <code>ACTION_MAP</code> in context-menu-handler.js</li>
<li>Check IPC channel names match exactly</li>
<li>Ensure <code>useContextMenuAction</code> is called before render</li>
<li>Check that callbacks are properly memoized</li>
</ol>
<h3 id="wrong-menu-appearing">Wrong Menu Appearing</h3>
<ol>
<li>Check menu type string matches exactly</li>
<li>Verify <code>event.stopPropagation()</code> on nested elements</li>
<li>Ensure data passed to <code>showContextMenu</code> is correct</li>
</ol>
<h3 id="menu-items-always-disabled">Menu Items Always Disabled</h3>
<ol>
<li>Check the <code>enabled</code> property in menu template</li>
<li>Verify data properties are being passed correctly</li>
<li>Review conditional logic in builder methods</li>
</ol>
<h2 id="performance-considerations">Performance Considerations</h2>
<ul>
<li><strong>Lazy Loading:</strong> Context menus are only built when shown</li>
<li><strong>IPC Async:</strong> IPC calls are async - handle promise rejections</li>
<li><strong>Memoization:</strong> Use <code>React.useCallback</code> for handlers to prevent re-renders</li>
<li><strong>Data Preparation:</strong> Avoid heavy computations in menu data preparation</li>
</ul>
<pre><code class="lang-tsx">// Good - memoized handler
const handleContextMenu = useCallback((e) =&gt; {
  showMenu(e, data);
}, [showMenu, data]);

// Avoid - recreates on every render
const handleContextMenu = (e) =&gt; showMenu(e, data);
</code></pre>
<h2 id="security-considerations">Security Considerations</h2>
<ul>
<li>File system operations are restricted to Electron main process</li>
<li>API keys in provider menus should never be logged</li>
<li>Path validation is performed server-side</li>
<li>User confirmation required for destructive operations</li>
<li>Context menu actions are validated against allowed action types</li>
</ul>
<h2 id="browser-compatibility">Browser Compatibility</h2>
<p>Context menus only work in Electron desktop app. For web version:</p>
<pre><code class="lang-tsx">function MyComponent() {
  if (!window.electron?.contextMenu) {
    // Fallback for web - use custom HTML/CSS context menu
    return &lt;WebContextMenuFallback /&gt;;
  }
  
  // Desktop - use native Electron context menu
  return &lt;DesktopContextMenu /&gt;;
}
</code></pre>
<h2 id="testing">Testing</h2>
<h3 id="running-tests">Running Tests</h3>
<pre><code class="lang-bash"># Unit tests for menu builder
npm run test:context-menu

# All context menu related tests
npm run test:all-context-menus
</code></pre>
<h3 id="test-coverage">Test Coverage</h3>
<p>The context menu system includes tests for:</p>
<ul>
<li>Menu creation for all 8 menu types</li>
<li>Callback invocation</li>
<li>Checkbox state management</li>
<li>Enabled/disabled state management</li>
<li>Submenu structure</li>
<li>Unknown menu type fallback</li>
</ul>
<p>See <code>Aura.Desktop/test/test-context-menu-system.js</code> for test implementation.</p>

</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/Coffee285/aura-video-studio/blob/main/docs/CONTEXT_MENUS.md/#L1" class="edit-link">Edit this page</a>
        </div>

        <div class="next-article d-print-none border-top" id="nextArticle"></div>

      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>

    <div class="container-xxl search-results" id="search-results"></div>

    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          Â© 2025 Aura Video Studio. Documentation built with DocFX.
        </div>
      </div>
    </footer>
  </body>
</html>
