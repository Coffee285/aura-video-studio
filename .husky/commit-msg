#!/usr/bin/env sh
. "$(dirname -- "$0")/_"

commit_msg_file=$1
commit_msg=$(cat "$commit_msg_file")

# Check for placeholder keywords in commit message
if echo "$commit_msg" | grep -qiE '\b(TODO|WIP|FIXME|temp commit|temporary)\b'; then
  echo ""
  echo "‚ùå Commit rejected: Commit message contains placeholder keywords"
  echo ""
  echo "Commit message: $commit_msg"
  echo ""
  echo "Please use a professional commit message."
  echo "Avoid: TODO, WIP, FIXME, 'temp commit', 'temporary'"
  echo ""
  exit 1
fi

exit 0
